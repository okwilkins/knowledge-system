## 8.1 — Control flow introduction

- A **straight line program** that the same path every time they are run.


## 8.2 — If statements and blocks

- You can write if statements like this:
```cpp
#include <iostream>

int main() {
	std::cout << "Enter a number: ";
	int x{};
	std::cin >> x;
	
	if (x > 10)
		std::cout << x << " is greater than 10\n";
	else
		std::cout << x << " is not greater than 10\n";
		
	return 0;
}
```

- However this is bad, as the indentation can matter and can cause logic bugs.

### Implicit blocks

```
if (condition)
	true_statement;
else
	false_statement;
```

This is equivalent of:
```
if (condition) {
	true_statement;
} else {
	false_statement;
}
```

- This can cause problems as variables can easily go out of scope and be destroyed.
```cpp
#include <iostream>

int main() {
	if (true)
		int x{5};
	else
		int x{6};
			
	std::cout << x << '\n';
	
	return 0;			
}
```
- This won't compile as x goes out of scope.
- Writing blocks implicitly like this makes this less obvious.


## 8.3 — Common if statement problems

### Null statements

- A **null statement** is an expression statement that consists of just a semicolon:
```cpp
if (x > 10) {
	;
}
```
- They do nothing.
- They are typically used when the language requires a statement to exist but the programmer doesn't need one.

- In Python the `pass` keyword serves as a null statement.
- In C++, we can mimic the `pass` by using the preprocessor.
```cpp
#define PASS

void foo(int x, int y) {
	if (x > y) {
		PASS;
	} else {
		PASS;
	}
}

int main() {
	foo(4, 7);
	
	return 0;
}
```


## 8.4 — Constexpr if statements

- Normally, the conditional of an if-statement id evaluated at runtime.
- However, consider the case where the conditional is a constant expression.
```cpp
#include <iostream>

int main() {
	constexpr double gravity {9.8};
	
	if (gravity == 9.8) {
		std::cout << "Gravity is normal.\n";
	else {
		std::cout << "We are not on Earth.\n"; // never executed
	}
}
```
- Evaluating constexpr conditionals at runtime is wasteful.

### Constexpr if statements (C++17)

```cpp
#include <iostream>

int main() {
	constexpr double gravity{9.8};
	
	if constexpr (gravity == 9.8) {
		std::cout << "Gravity is normal.\n";	
	} else {
		std::cout << "We are not on Earth.\n";	
	}
	
	return 0;
}
```

- For optimisation purposes, modern compilers will generally treat non-constexpr conditionals as id they were constexpr-if-statements.
- However, they are not required to do so.